<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calendrier & Convocations ‚Äî U18A / U18B / U16A</title>
  <style>
    :root {
      --bg: #0d1b12;          /* Vert fonc√© */
      --card: #183c25;        /* Vert sapin */
      --text: #f8fafc;        /* Blanc cass√© */
      --muted: #a7bca8;       /* Vert-gris clair */
      --accent1: #16a34a;     /* Vert vif */
      --accent2: #22c55e;     /* Vert moyen */
      --accent3: #86efac;     /* Vert clair */
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: "Inter", Arial, sans-serif;
      padding: 16px;
    }

    h1 {
      text-align: center;
      margin-bottom: 0.5rem;
    }

    label {
      display: block;
      text-align: center;
      color: var(--muted);
      margin-bottom: 0.3rem;
    }

    select {
      display: block;
      margin: 0 auto 1.5rem;
      padding: 8px 12px;
      background: var(--card);
      color: var(--text);
      border-radius: 8px;
      border: 1px solid var(--accent2);
      font-size: 1rem;
    }

    /* Tabs */
    .tabs {
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }

    .tab {
      padding: 8px 14px;
      border-radius: 20px;
      background: rgba(255, 255, 255, 0.1);
      cursor: pointer;
      transition: 0.2s;
    }

    .tab.active {
      background: var(--accent2);
      color: #fff;
    }

    /* Content sections */
    .content {
      display: none;
    }

    .content.active {
      display: block;
    }

    .equipe {
      background: var(--card);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      margin-bottom: 1rem;
    }

    .equipe h2 {
      text-align: center;
      margin-top: 0;
      font-size: 1.2rem;
      color: var(--accent3);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95rem;
    }

    th, td {
      padding: 8px;
      text-align: center;
    }

    th {
      background: rgba(255, 255, 255, 0.1);
      color: var(--accent3);
    }

    tr:hover {
      background: rgba(255, 255, 255, 0.08);
      cursor: pointer;
    }

    /* Convocations */
    .joueurs ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .joueurs li {
      display: flex;
      justify-content: space-between;
      padding: 6px 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      font-size: 0.95rem;
    }

    .icon.maillot {
      color: var(--accent3);
    }

    .icon.voiture {
      color: var(--accent2);
    }

    .match-title {
      text-align: center;
      color: var(--muted);
      margin-top: 1rem;
      font-weight: bold;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <h1>Calendrier & Convocations</h1>

  <!-- S√©lecteur de journ√©e -->
  <label for="journeeSelect">Choisir une journ√©e :</label>
  <select id="journeeSelect">
    <option value="journee1.json">Journ√©e 1</option>
    <option value="journee2.json">Journ√©e 2</option>
    <option value="journee3.json">Journ√©e 3</option>
  </select>

  <!-- Onglets √©quipes -->
  <div class="tabs">
    <div class="tab active" data-target="u18a">U18A</div>
    <div class="tab" data-target="u18b">U18B</div>
    <div class="tab" data-target="u16a">U16A</div>
  </div>

  <!-- Contenu dynamique -->
  <div id="u18a" class="content active">
    <div class="equipe">
      <h2>U18A</h2>
      <div id="table-u18a"></div>
      <div class="joueurs" id="convocation-u18a"></div>
    </div>
  </div>

  <div id="u18b" class="content">
    <div class="equipe">
      <h2>U18B</h2>
      <div id="table-u18b"></div>
      <div class="joueurs" id="convocation-u18b"></div>
    </div>
  </div>

  <div id="u16a" class="content">
    <div class="equipe">
      <h2>U16A</h2>
      <div id="table-u16a"></div>
      <div class="joueurs" id="convocation-u16a"></div>
    </div>
  </div>

  <script>
    // Gestion des onglets
    const tabs = document.querySelectorAll('.tab');
    const contents = document.querySelectorAll('.content');
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        contents.forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.target).classList.add('active');
      });
    });

    // Chargement des donn√©es
    const select = document.getElementById('journeeSelect');
    select.addEventListener('change', () => chargerJournee(select.value));

    async function chargerJournee(fichier) {
      const res = await fetch(fichier);
      const data = await res.json();

      Object.keys(data.equipes).forEach(equipe => {
        const tableDiv = document.getElementById(`table-${equipe}`);
        const convDiv = document.getElementById(`convocation-${equipe}`);

        // G√©n√©ration du tableau de matchs
        let html = '<table><tr><th>Date</th><th>Adversaire</th><th>Lieu</th></tr>';
        data.equipes[equipe].matches.forEach((match, i) => {
          html += `<tr data-team="${equipe}" data-index="${i}">
            <td>${match.date}</td>
            <td>${match.adversaire}</td>
            <td>${match.lieu}</td>
          </tr>`;
        });
        html += '</table>';
        tableDiv.innerHTML = html;
        convDiv.innerHTML = '';

        // Clic sur un match => afficher la convocation
        document.querySelectorAll(`tr[data-team="${equipe}"]`).forEach(row => {
          row.addEventListener('click', () => {
            const idx = row.dataset.index;
            const match = data.equipes[equipe].matches[idx];
            let html = `<div class="match-title">Match vs ${match.adversaire} ‚Äî ${match.date}</div><ul>`;
            match.convocation.forEach(j => {
              let icons = '';
              if (j.maillot) icons += '<span class="icon maillot">üëï</span>';
              if (j.voiture) icons += '<span class="icon voiture">üöó</span>';
              html += `<li>${j.nom}<span>${icons}</span></li>`;
            });
            html += '</ul>';
            convDiv.innerHTML = html;
          });
        });
      });
    }

    // Charger la premi√®re journ√©e par d√©faut
    chargerJournee(select.value);
  </script>
</body>
</html>
